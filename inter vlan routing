!!!! ##important facts about VLANs !!!!

when you do 
    interface range fa0/1 - 2

            switchport mode access

            switchport access vlan 10
    all end point devices connected to that port will fall into that vlan

VLANs are seperate esentially sperate networks in one switch and requires a router or layer 3 switch to function.
END point devices are not awere they are even part of a vlan.
Frame within vlans are not tagged, but when it leaves a trunk port it gets tagged with the vlan it came from.
When a router recieves an tagged port it gets untagged and gets tagged with the vlan the frame is destined to.
When the trunk port recives the tagged frame it strips it and sends it to the vlan it belongs to.
TRUNK PORTS belong to all vlans
SUBINTERFACES on a router have the same MAC, this is fine because Each Vlan has their own MAC ADDRESS TABLES 


Router on A stick COnfig
###Create Virtaul subinteraces on one physical interface 
Each subinterface has its own NETWORK ID acting as a gateway for devices in different VLAN
You tagged each sub-int with encapsulation dot1Q 10 20 or 30 

router(config)# interface g0/0/0.10 (.10 can really be .69 but should match vlan ID)
router(config)# encapsulation dot1Q 10 (tells the router this sub interface handles vlan 10 traffic, any frame leaving this sub-int gets tagged with 10.















Turn the port connected the swtich to the router into a trunk port 
    configure terminal
interface GigabitEthernet0/1
 switchport mode trunk
 switchport trunk encapsulation dot1q   ← (only needed on older switches)
 switchport trunk allowed vlan 10,20    ← (optional: restrict to specific VLANs)
exit




Switch-to-Switch Connection:

    Connected switches via g0/1 and g0/2  on each

    Enabled trunking:

        interface g0/1 or g0/2

        switchport mode trunk

Result:

    Devices in VLAN 10 across both switches can communicate and receive IPs from the DHCP server in VLAN 20

    VLAN 20 is isolated except for DHCP services

    Inter-VLAN routing is handled by the router’s subinterfaces


add ip to swtich to allow ssh
interface vlan 10
ip address 192.168.10.10 255.255.255.0
exit first
ip default-gateway 192.168.10.1

the deafult -gateway is to allow other vlan to ssh aswell.
